<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <title>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡¶ø ‡¶ï‡ßü‡ßá‡¶® ‡¶ü‡¶∏ ‡¶ó‡ßá‡¶Æ</title>
  <style>
    body { font-family: Arial; background: #f9fcff; text-align: center; margin: 20px; }
    h1, h2, h3 { color: #333; }
    input, button { padding: 10px; margin: 5px; border-radius: 6px; border: 1px solid #ccc; }
    button { background-color: #4CAF50; color: white; cursor: pointer; }
    button:hover { background-color: #45a049; }
    #balance { font-size: 22px; margin: 15px; font-weight: bold; }
    .coin { width: 160px; height: 160px; margin: 20px auto; perspective: 1000px; }
    .coin-inner {
      width: 100%; height: 100%; position: relative;
      transform-style: preserve-3d; transition: transform 2s;
    }
    .coin-front, .coin-back {
      position: absolute; width: 100%; height: 100%; border-radius: 50%; 
      background-size: cover; background-position: center; backface-visibility: hidden;
    }
    .coin-front {
      background-image: url('https://en.numista.com/catalogue/photos/bangladesh/257-original.jpg'); /* ‡¶π‡ßá‡¶°‡¶∏ */
    }
    .coin-back {
      background-image: url('https://en.numista.com/catalogue/photos/bangladesh/256-original.jpg'); /* ‡¶ü‡ßá‡¶á‡¶≤‡¶∏ */
      transform: rotateY(180deg);
    }
    #result { margin-top: 15px; font-size: 18px; min-height: 24px; }
    ul { list-style: none; padding: 0; max-width: 300px; margin: 10px auto; text-align: left; }
    li { padding: 5px 10px; border-bottom: 1px solid #ccc; }
  </style>
</head>
<body>

  <h1>üáßüá© ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡¶ø ‡¶ï‡ßü‡ßá‡¶® ‡¶ü‡¶∏ ‡¶ó‡ßá‡¶Æ üáßüá©</h1>
  <div id="balance">üí∞ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßü‡ßá‡¶®: <span id="coins">0</span></div>

  <h3>‡¶¨‡ßá‡¶ü ‡¶è‡¶Æ‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶¶‡¶ø‡¶®:</h3>
  <input type="number" id="betAmount" placeholder="‡¶¨‡ßá‡¶ü ‡¶è‡¶Æ‡¶æ‡¶â‡¶®‡ßç‡¶ü" />

  <div class="coin">
    <div class="coin-inner" id="coin-inner">
      <div class="coin-front"></div>
      <div class="coin-back"></div>
    </div>
  </div>

  <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶õ‡¶®‡ßç‡¶¶ ‡¶¨‡ßá‡¶õ‡ßá ‡¶®‡¶ø‡¶®:</p>
  <button onclick="placeBet('Heads')">‡¶π‡ßá‡¶°‡¶∏</button>
  <button onclick="placeBet('Tails')">‡¶ü‡ßá‡¶á‡¶≤‡¶∏</button>

  <div id="result"></div>

  <h3>üìú ‡¶∏‡¶∞‡ßç‡¶¨‡¶∂‡ßá‡¶∑ ‡¶ü‡¶∏:</h3>
  <ul id="historyList"></ul>

  <script>
    let coins = parseInt(localStorage.getItem('coins')) || 100;
    let history = JSON.parse(localStorage.getItem('history')) || [];

    document.getElementById('coins').textContent = coins;
    updateHistory();

    function placeBet(userChoice) {
      let bet = parseInt(document.getElementById('betAmount').value);
      if (isNaN(bet) || bet <= 0 || bet > coins) {
        document.getElementById('result').innerHTML = "‚ùå ‡¶∏‡¶†‡¶ø‡¶ï ‡¶¨‡ßá‡¶ü ‡¶¶‡¶ø‡¶®!";
        return;
      }

      coins -= bet;
      localStorage.setItem('coins', coins);
      document.getElementById('coins').textContent = coins;

      const coinInner = document.getElementById('coin-inner');
      const flips = Math.floor(Math.random() * 6) + 6;

      // ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡¶ø‡¶Æ‡ßá‡¶∂‡¶® ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶ï‡¶∞‡ßã
      coinInner.style.transition = 'none';
      coinInner.style.transform = 'rotateY(0deg)';
      void coinInner.offsetWidth; // ‡¶∞‡¶ø‡¶´‡ßç‡¶≤‡ßã ‡¶ü‡ßç‡¶∞‡¶ø‡¶ï
      coinInner.style.transition = 'transform 2s';
      coinInner.style.transform = `rotateY(${180 * flips}deg)`;

      // ‡¶´‡¶≤ ‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶£: even = ‡¶π‡ßá‡¶°‡¶∏, odd = ‡¶ü‡ßá‡¶á‡¶≤‡¶∏
      const resultIndex = flips % 2 === 0 ? 'Heads' : 'Tails';

      setTimeout(() => {
        let message = `üéØ ‡¶ü‡¶∏: ${resultIndex}<br>`;
        let win = false;
        if (userChoice === resultIndex) {
          coins += bet * 2;
          message += `üéâ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ú‡¶ø‡¶§‡ßá‡¶õ‡ßá‡¶®! (+${bet * 2})`;
          win = true;
        } else {
          message += `üòû ‡¶Ü‡¶™‡¶®‡¶ø ‡¶π‡¶æ‡¶∞‡¶≤‡ßá‡¶®!`;
        }

        localStorage.setItem('coins', coins);
        document.getElementById('coins').textContent = coins;
        document.getElementById('result').innerHTML = message;

        let entry = `${userChoice} ‚Üí ${resultIndex} ‚Üí ${win ? '‡¶ú‡ßü' : '‡¶π‡¶æ‡¶∞'} (‡¶ï‡ßü‡ßá‡¶®: ${coins})`;
        history.unshift(entry);
        if (history.length > 10) history.pop();
        localStorage.setItem('history', JSON.stringify(history));
        updateHistory();
      }, 2000);
    }

    function updateHistory() {
      const list = document.getElementById('historyList');
      list.innerHTML = '';
      history.forEach(item => {
        const li = document.createElement('li');
        li.textContent = item;
        list.appendChild(li);
      });
    }
  </script>

</body>
</html>
